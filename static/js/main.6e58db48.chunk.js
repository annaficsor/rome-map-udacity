(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/attraction.535fa7e3.svg"},function(e,t,a){e.exports=a.p+"static/media/coffee.234dd57f.svg"},function(e,t,a){e.exports=a.p+"static/media/food.968d112b.svg"},function(e,t,a){e.exports=a.p+"static/media/park.2e945e18.svg"},function(e,t,a){e.exports=a.p+"static/media/arrow-back.272bf941.svg"},,function(e){e.exports=[{type:"Attractions",id:1,name:"Colosseum",ll:"41.890649, 12.492531",latlng:{lat:41.890649,lng:12.492531}},{type:"Attractions",id:2,name:"St. Peter's Basilica",ll:"41.902278, 12.454157",latlng:{lat:41.902278,lng:12.454157}},{type:"Attractions",id:3,name:"Ponte Sant'Angelo",ll:"41.901531,12.463149",latlng:{lat:41.901531,lng:12.463149}},{type:"Attractions",id:4,name:"Trevi Fountain",ll:"41.9009325,12.483313",latlng:{lat:41.9009325,lng:12.483313}},{type:"Attractions",id:5,name:"Pantheon, Rome",ll:"41.8986108,12.4746842",latlng:{lat:41.8986108,lng:12.4746842}},{type:"Attractions",id:6,name:"Spanish Steps",ll:"41.90599,12.482775",latlng:{lat:41.90599,lng:12.482775}},{type:"Attractions",id:7,name:"Pons Cestius",ll:"41.8900275,12.4772563",latlng:{lat:41.8900275,lng:12.4772563}},{type:"Attractions",id:8,name:"Palazzo della Civilt\xe0 Italiana",ll:"41.8364068,12.4662038",latlng:{lat:41.8364068,lng:12.4662038}},{type:"Attractions",id:9,name:"Campo de' Fiori",ll:"41.8956395,12.4721124",latlng:{lat:41.8956395,lng:12.4721124}},{type:"Coffee",id:10,name:"Tazza d'Oro",ll:"41.899435,12.4773592",latlng:{lat:41.899435,lng:12.4773592}},{type:"Coffee",id:11,name:"Giolitti",ll:"41.9010971,12.477283",latlng:{lat:41.9010971,lng:12.477283}},{type:"Coffee",id:12,name:"Caff\xe8 Sant\u2019Eustachio",ll:"41.89827,12.475379",latlng:{lat:41.89827,lng:12.475379}},{type:"Coffee",id:13,name:"Sciascia",ll:"41.90980680415953,12.461819347729074",latlng:{lat:41.90980680415953,lng:12.461819347729074}},{type:"Restaurants",id:14,name:"Barnum Caf\xe9",ll:"41.897079,12.469898",latlng:{lat:41.897079,lng:12.469898}},{type:"Restaurants",id:15,name:"Cantina e Cucina",ll:"41.8979612,12.471641",latlng:{lat:41.8979612,lng:12.471641}},{type:"Restaurants",id:16,name:"Maccheroni",ll:"41.9005502,12.4758828",latlng:{lat:41.9005502,lng:12.4758828}},{type:"Restaurants",id:17,name:"Ai Tre Scalini",ll:"41.896347818830705,12.490418011337228",latlng:{lat:41.896347818830705,lng:12.490418011337228}},{type:"Parks",id:18,name:"Orto Botanico dell'Universit\xe0 di Roma",ll:"41.8924375,12.4644679",latlng:{lat:41.8924375,lng:12.4644679}},{type:"Parks",id:19,name:"Pincian Hill",ll:"41.9113578,12.4795928",latlng:{lat:41.9113578,lng:12.4795928}},{type:"Parks",id:20,name:"Villa Doria Pamphili",ll:"41.8867258,12.4564121",latlng:{lat:41.8867258,lng:12.4564121}},{type:"Parks",id:21,name:"Orange Garden",ll:"41.8851288,12.4803363",latlng:{lat:41.8851288,lng:12.4803363}},{type:"Coffee",id:22,name:"Le Levain",ll:"41.887130,12.468750",latlng:{lat:41.88713,lng:12.46875}},{type:"Coffee",id:23,name:"Roscioli Caff\xe9 Pasticceria",ll:"41.893950,12.475210",latlng:{lat:41.89395,lng:12.47521}},{type:"Coffee",id:24,name:"Come Il Latte",ll:"41.907090,12.496030",latlng:{lat:41.90709,lng:12.49603}},{type:"Coffee",id:25,name:"Er Caffettiere",ll:"41.894970,12.492950",latlng:{lat:41.89497,lng:12.49295}},{type:"Coffee",id:26,name:"Regoli ",ll:"41.894850,12.501070",latlng:{lat:41.89485,lng:12.50107}},{type:"Coffee",id:27,name:"Pasticceria San Teo",ll:"41.888470,12.483380",latlng:{lat:41.88847,lng:12.48338}},{type:"Coffee",id:28,name:"Bar Lillo",ll:"41.887710,12.477180",latlng:{lat:41.88771,lng:12.47718}},{type:"Coffee",id:29,name:"Bar del Cappuccino",ll:"41.892200,12.474920",latlng:{lat:41.8922,lng:12.47492}},{type:"Restaurants",id:30,name:"Tonnarello",ll:"41.8897094933781,12.4691133307467",latlng:{lat:41.8897094933781,lng:12.4691133307467}},{type:"Restaurants",id:31,name:"Hostaria La Botticella",ll:"41.890300,12.468110",latlng:{lat:41.8903,lng:12.46811}},{type:"Restaurants",id:32,name:"Pizzarium Gabriele Bonci",ll:"41.906660,12.446680",latlng:{lat:41.90666,lng:12.44668}},{type:"Restaurants",id:34,name:"Piccolo Arancio",ll:"41.900800,12.484980",latlng:{lat:41.9008,lng:12.48498}},{type:"Restaurants",id:36,name:"Li Rioni",ll:"41.888710,12.497810",latlng:{lat:41.88871,lng:12.49781}},{type:"Attractions",id:37,name:"Vatican Museums",ll:"41.905460, 12.449540",latlng:{lat:41.90546,lng:12.44954}},{type:"Attractions",id:38,name:"Roman Forum",ll:"41.892578, 12.486950",latlng:{lat:41.892578,lng:12.48695}},{type:"Attractions",id:39,name:"Piazza del Popolo",ll:"41.910300, 12.476450",latlng:{lat:41.9103,lng:12.47645}},{type:"Attractions",id:40,name:"Piazza Navona",ll:"41.899130, 12.473200",latlng:{lat:41.89913,lng:12.4732}},{type:"Attractions",id:41,name:"Capitoline Hill",ll:"41.899410, 12.470470",latlng:{lat:41.89941,lng:12.47047}}]},function(e){e.exports={googleApi:"AIzaSyBdANFq5NIWqobf0R5k_cQ-dEXlxGxmitk",yelp_api:"Dz6CYbatja80HhvFCKwKfVsDQRMIBBZsxpFRQMNruL9j5JeiAQGY-M_oOirfCTY20uJGEvOU2s24_1-OqJQPZvhmeQEPfBivfonjgRlKgUx8OlwpBT7buUL4kAoxW3Yx"}},,function(e,t,a){e.exports=a.p+"static/media/attraction-onecolor.419a3715.svg"},function(e,t,a){e.exports=a.p+"static/media/coffe-onecolor.85a2760e.svg"},function(e,t,a){e.exports=a.p+"static/media/food-onecolor.7431f7cb.svg"},function(e,t,a){e.exports=a.p+"static/media/parks-onecolor.71f89e4f.svg"},,,,,,function(e){e.exports=[{featureType:"administrative.country",elementType:"geometry.fill",stylers:[{color:"#bbe02b"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{color:"#fdd200"},{weight:5}]},{featureType:"administrative.land_parcel",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#fef1e0"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#fff0a8"}]},{featureType:"landscape.natural.landcover",elementType:"geometry.fill",stylers:[{color:"#4dcbe1"},{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{color:"#fdd200"},{visibility:"on"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi.attraction",elementType:"geometry.fill",stylers:[{color:"#ffbe9b"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#d1ea6f"},{visibility:"on"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#93deec"}]}]},function(e,t,a){e.exports=a.p+"static/media/filter-arrow.abfbafa1.svg"},,function(e,t,a){e.exports=a.p+"static/media/address.d6aea5fb.svg"},function(e,t,a){e.exports=a.p+"static/media/closed.97a25e65.svg"},function(e,t,a){e.exports=a.p+"static/media/open.c57da446.svg"},function(e,t,a){e.exports=a.p+"static/media/rating.0ddd2ff2.svg"},,function(e,t,a){e.exports=a(53)},,,,,,,,,function(e,t,a){},,function(e,t,a){},,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(27),o=a.n(l),s=(a(45),a(3)),r=a(4),c=a(7),p=a(5),m=a(6),d=(a(47),a(16)),u=a(28),g=a(9),f=a(29),h=a.n(f),y=a(30),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).type=[{name:"Attractions"},{name:"Coffee"},{name:"Restaurants"},{name:"Parks"},{name:"All"}],a.state={selectedType:""},a.onChange=a.onChange.bind(Object(g.a)(Object(g.a)(a))),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"onChange",value:function(e){this.setState({selectedType:e.name}),this.props.onUpdateType(e.name)}},{key:"render",value:function(){var e=this;return i.a.createElement(y.a,{onChange:this.onChange,selectedItem:this.state.selectedType,itemToString:function(e){return e?e.name:""}},function(t){var a=t.isOpen,n=t.getToggleButtonProps,l=t.getItemProps,o=t.highlightedIndex;t.selectedItem,t.getLabelProps;return i.a.createElement("div",null,i.a.createElement("button",Object.assign({className:"dropdown-button"},n()),""!==e.state.selectedType?e.state.selectedType:"Filter by type",i.a.createElement("img",{src:h.a,alt:"arrow down",className:"arrow-down"})),i.a.createElement("div",{style:{position:"relative"}},a?i.a.createElement("div",{className:"downshift-dropdown"},e.type.map(function(e,t){return i.a.createElement("div",Object.assign({className:"dropdown-item ".concat(e.name)},l({key:t,index:t,item:e}),{style:{fontWeight:o===t?"bold":"normal"}}),e.name)})):null))})}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={listNames:["Attractions","Coffee","Restaurants","Parks"]},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"handleClick",value:function(e){this.props.onMap(e)}},{key:"keyEvent",value:function(e,t){"Enter"===e.key&&this.props.onMap(t)}},{key:"render",value:function(){var e=this;return i.a.createElement("section",{className:"main-page"},i.a.createElement("h1",null,"ROME"),i.a.createElement(v,{onUpdateType:this.props.onUpdateType}),(this.props.selectedType.length<1||"All"===this.props.selectedType)&&i.a.createElement("div",{className:"list",role:"group"},this.state.listNames.map(function(t,a){return i.a.createElement("div",{key:t[a],className:"listChild"},i.a.createElement("h2",{id:"".concat(t)},t),i.a.createElement("div",{className:"list-items"},i.a.createElement("ul",{className:"list-grid",role:"list"},e.props.markers.filter(function(e){return e.id===t}).map(function(t){return i.a.createElement("li",{className:"loc".concat(t.id),key:t.title,onClick:function(a){return e.handleClick(t)},onKeyPress:function(a){return e.keyEvent(a,t)},tabIndex:"0",role:"link listitemn"},t.title)}))))})),this.props.selectedType.length>1&&i.a.createElement("div",{className:"list",role:"group"},this.state.listNames.filter(function(t){return t===e.props.selectedType}).map(function(t,a){return i.a.createElement("div",{key:t[a],className:"listChild"},i.a.createElement("h2",{id:"".concat(t)},t),i.a.createElement("div",{className:"list-items"},i.a.createElement("ul",{className:"list-grid",role:"list"},e.props.markers.filter(function(e){return e.id===t}).map(function(t){return i.a.createElement("li",{className:"loc".concat(t.id),key:t.title,onClick:function(a){return e.handleClick(t)},onKeyPress:function(a){return e.keyEvent(a,t)},tabIndex:"0",role:"link listitemn"},t.title)}))))})))}}]),t}(n.Component),w=a(14),E=a.n(w),b=a(31),C=a.n(b),N=a(32),T=a.n(N),P=a(33),A=a.n(P),I=a(34),j=a.n(I),x=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).keyEvent=function(e){"Enter"===e.key&&a.props.onUpdatePlace()},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"handleClick",value:function(){this.props.onUpdatePlace()}},{key:"render",value:function(){var e=this,t=this.props.price.length/4*100,a={width:"".concat(10*Math.round(t/10),"%")};return i.a.createElement("div",{className:"place"},this.props.name.length<1&&i.a.createElement("div",{className:"holder",role:"progressbar"},i.a.createElement("div",{className:"preloader"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null))),this.props.name.length>1&&i.a.createElement("article",{className:"place"},i.a.createElement("div",{className:"back",onClick:function(){return e.handleClick()},onKeyPress:function(t){return e.keyEvent(t)},tabIndex:"0",role:"navigation"},i.a.createElement("img",{src:E.a,alt:"Go back arrow"}),i.a.createElement("span",{className:"backtext"},"BACK")),i.a.createElement("h1",null,this.props.name),i.a.createElement("h3",{className:"linkDirections"},i.a.createElement("a",{href:"https://www.google.com/maps/dir/?api=1&destination=".concat(this.props.lat,",").concat(this.props.long,"&travelmode=walking")},"Get directions >>")),i.a.createElement("div",{className:"info"},i.a.createElement("img",{src:C.a,alt:"Address"}),i.a.createElement("span",{className:"address"},this.props.address)),i.a.createElement("div",{className:"info"},i.a.createElement("img",{src:j.a,alt:"Rating"}),i.a.createElement("span",{className:"rating"},this.props.rating,i.a.createElement("span",{className:"rating2"},"/5"))),i.a.createElement("div",{className:"info"},i.a.createElement("span",null,"Price: "),i.a.createElement("div",{className:"price-outer"},i.a.createElement("div",{className:"price-inner",style:a}))),!0===this.props.openingHours&&i.a.createElement("div",{className:"info"},i.a.createElement("img",{src:A.a,alt:"open"}),i.a.createElement("span",{className:"open"},"Now open!")),!1===this.props.openingHours&&i.a.createElement("div",{className:"info"},i.a.createElement("img",{src:T.a,alt:"closed"}),i.a.createElement("span",{className:"closed"},"Currently closed :(")),i.a.createElement("div",{className:"link"},i.a.createElement("a",{href:this.props.url},"More information >>")),this.props.image.map(function(t,a){return i.a.createElement("img",{key:a,className:"placeimage",src:t,alt:e.props.name})})))}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).keyEvent=function(e){"Enter"===e.key&&a.props.onUpdatePlace()},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"handleClick",value:function(){this.props.onUpdatePlace()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"place"},this.props.wikiName.length<1&&i.a.createElement("div",{className:"holder",role:"progressbar"},i.a.createElement("div",{className:"preloader"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null))),this.props.wikiName.length>1&&i.a.createElement("article",{className:"place"},i.a.createElement("div",{className:"back",onClick:function(){return e.handleClick()},onKeyPress:function(t){return e.keyEvent(t)},tabIndex:"0",role:"navigation"},i.a.createElement("img",{src:E.a,alt:"Go back arrow"}),i.a.createElement("span",{className:"backtext"},"BACK")),i.a.createElement("h1",null,this.props.wikiName),i.a.createElement("h3",{className:"linkDirections"},i.a.createElement("a",{href:"https://www.google.com/maps/dir/?api=1&destination=".concat(this.props.wikiLat,",").concat(this.props.wikiLong,"&travelmode=walking")},"Get directions >>")),i.a.createElement("div",{className:"wikitext"},this.props.wiki),i.a.createElement("div",{className:"link"},i.a.createElement("a",{href:this.props.wikiUrl},"More information >>")),i.a.createElement("img",{className:"placeimage",src:this.props.wikiImage,alt:this.props.wikiName})))}}]),t}(n.Component),R=a(35),S=a.n(R),L=a(17),B=a(18),U=a.n(B),M=a(10),W=a.n(M),H=a(11),z=a.n(H),G=a(12),_=a.n(G),q=a(13),K=a.n(q),F=a(19),D=a.n(F),Q=a(20),V=a.n(Q),J=a(21),X=a.n(J),Y=a(22),Z=a.n(Y),$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={marker:[],map:{},markers:[],infoWindow:[],place:!1,image:[],name:"",openingHours:!1,url:"",price:"",rating:0,address:"",hasError:!1,lat:0,long:0,wiki:"",wikiImage:"",wikiUrl:"",wikiName:"",wikiLat:0,wikiLong:0,selectedType:"",googleError:!1},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.isScriptLoadSucceed){var a=[],n=new window.google.maps.Map(document.getElementById("map"),{center:{lat:41.9027835,lng:12.496365500000024},zoom:8,styles:u}),i=new window.google.maps.LatLngBounds,l=new window.google.maps.InfoWindow;this.setState({map:n,infoWindow:l}),d.map(function(e){var o,s=e.latlng,r=e.name,c=e.type;"Attractions"===e.type?o={url:"".concat(W.a)}:"Coffee"===e.type?o={url:"".concat(z.a)}:"Restaurants"===e.type?o={url:"".concat(_.a)}:"Parks"===e.type&&(o={url:"".concat(K.a)});var p=new window.google.maps.Marker({map:n,position:s,title:r,id:c,icon:o});a.push(p),window.google.maps.event.addListener(p,"click",function(e){this.makeInfoWindow(p,l,e),this.setMarkerIcon(p,a)}.bind(t)),i.extend(s)}),n.fitBounds(i),this.setState({markers:a})}else alert("Script not loaded");window.gm_authFailure=function(){this.setState({googleError:!0})}.bind(this)}},{key:"setMarkerIcon",value:function(e){this.setState({marker:e,place:!0,image:[],name:"",openingHours:!1,url:"",price:"",rating:0,address:"",hasError:!1,wiki:"",wikiImage:"",wikiName:"",wikiUrl:""}),"Attractions"===e.id?e.setIcon("".concat(W.a)):"Coffee"===e.id?e.setIcon("".concat(z.a)):"Restaurants"===e.id?e.setIcon("".concat(_.a)):"Parks"===e.id&&e.setIcon("".concat(K.a)),this.state.markers.filter(function(t){return t!==e}).map(function(e){"Attractions"===e.id?e.setIcon("".concat(D.a)):"Coffee"===e.id?e.setIcon("".concat(V.a)):"Restaurants"===e.id?e.setIcon("".concat(X.a)):"Parks"===e.id&&e.setIcon("".concat(Z.a))})}},{key:"makeInfoWindow",value:function(e){var t=this.state.infoWindow,a=this.state.map;if(a.setZoom(15),a.setCenter(e.getPosition()),t.marker!==e){t.setContent(""),t.marker=e,t.addListener("closeclick",function(){t.marker=null});(new window.google.maps.StreetViewService).getPanoramaByLocation(e.position,50,function(a,n){if(n===window.google.maps.StreetViewStatus.OK){var i=a.location.latLng;t.setContent('<div id="pano" style="width:200px; height:200px; position:static"></div><h2>'+e.title+"</h2>");var l={position:i,disableDefaultUI:!0,pov:{heading:34,pitch:10}};new window.google.maps.StreetViewPanorama(document.getElementById("pano"),l)}else t.setContent("<div>"+e.title+"</div><div>No Street View Found</div>")}),t.open(a,e)}"Attractions"===e.id||"Parks"===e.id?this.wiki(e):"Coffee"!==e.id&&"Restaurants"!==e.id||this.yelp(e)}},{key:"yelp",value:function(e){var t=this,a={latitude:e.getPosition().lat(),longitude:e.getPosition().lng(),term:e.title,radius:50,limit:1},n={Authorization:"Bearer ".concat(L.yelp_api),Accept:"application/json","Content-Type":"application/json",Origin:"http://localhost:3000","Access-Control-Allow-Headers":"*","Access-Control-Allow-Origin":"http://localhost:3000"};fetch("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?"+new URLSearchParams(a),{headers:n}).then(function(e){return e.json()}).then(function(e){var t=e.businesses[0].id;return fetch("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/".concat(t),{headers:n})}).then(function(e){return e.json()}).then(function(e){e.hasOwnProperty("hours")?t.setState({openingHours:e.hours[0].is_open_now}):t.setState({openingHours:"No data available"}),t.setState({image:e.photos,url:e.url,price:e.price,rating:e.rating,address:e.location.address1,name:e.name,lat:e.coordinates.latitude,long:e.coordinates.longitude})}).catch(function(e){console.log(e),t.setState({hasError:!0})})}},{key:"wiki",value:function(e){U.a.ajax({url:"https://en.wikipedia.org/w/api.php?action=opensearch&format=json&search=".concat(e.title),type:"GET",headers:{"X-Requested-With":"XMLHttpRequest"},crossDomain:!0,dataType:"jsonp"}).done(function(t){var a=t[1][0];a=a.replace(/\s+/g,"_"),this.wikiText(a,e)}.bind(this)).fail(function(){this.setState({hasError:!0})}.bind(this))}},{key:"wikiText",value:function(e,t){U.a.ajax({url:"https://en.wikipedia.org/w/api.php?format=json&action=query&prop=extracts|pageimages|info&exintro=&explaintext=&piprop=original&inprop=url&titles=".concat(e),type:"GET",headers:{"X-Requested-With":"XMLHttpRequest"},crossDomain:!0,dataType:"jsonp"}).done(function(e){var a=e.query.pages,n=Object.keys(e.query.pages)[0],i=a[n].extract,l=a[n].fullurl,o=a[n].original.source,s=a[n].title;this.setState({wiki:i,wikiImage:o,wikiUrl:l,wikiName:s,wikiLat:t.getPosition().lat(),wikiLong:t.getPosition().lng()})}.bind(this)).fail(function(){this.setState({hasError:!0})}.bind(this))}},{key:"updatePlace",value:function(){this.setState({place:!1})}},{key:"updateType",value:function(e){this.setState({selectedType:e}),this.state.markers.map(function(t){"All"===e?"Attractions"===t.id?t.setIcon("".concat(W.a)):"Coffee"===t.id?t.setIcon("".concat(z.a)):"Restaurants"===t.id?t.setIcon("".concat(_.a)):"Parks"===t.id&&t.setIcon("".concat(K.a)):"Attractions"===t.id&&t.id===e?t.setIcon("".concat(W.a)):"Coffee"===t.id&&t.id===e?t.setIcon("".concat(z.a)):"Restaurants"===t.id&&t.id===e?t.setIcon("".concat(_.a)):"Parks"===t.id&&t.id===e?t.setIcon("".concat(K.a)):"Attractions"===t.id&&t.id!==e?t.setIcon("".concat(D.a)):"Coffee"===t.id&&t.id!==e?t.setIcon("".concat(V.a)):"Restaurants"===t.id&&t.id!==e?t.setIcon("".concat(X.a)):"Parks"===t.id&&t.id!==e&&t.setIcon("".concat(Z.a))})}},{key:"render",value:function(){var e=this;return i.a.createElement("main",{className:"App"},i.a.createElement("section",{className:"information"},!1===this.state.place&&i.a.createElement(k,{markers:this.state.markers,locations:d,selectedType:this.state.selectedType,onMap:function(t){e.setMarkerIcon(t),e.makeInfoWindow(t)},onUpdateType:function(t){e.updateType(t)}}),!0===this.state.place&&("Coffee"===this.state.marker.id||"Restaurants"===this.state.marker.id)&&i.a.createElement(x,{name:this.state.name,image:this.state.image,openingHours:this.state.openingHours,url:this.state.url,price:this.state.price,rating:this.state.rating,address:this.state.address,lat:this.state.lat,long:this.state.long,onUpdatePlace:function(){e.updatePlace()}}),!0===this.state.place&&("Attractions"===this.state.marker.id||"Parks"===this.state.marker.id)&&i.a.createElement(O,{wikiName:this.state.wikiName,wikiUrl:this.state.wikiUrl,wiki:this.state.wiki,wikiImage:this.state.wikiImage,wikiLat:this.state.wikiLat,wikiLong:this.state.wikiLong,onUpdatePlace:function(){e.updatePlace()}}),!0===this.state.hasError&&i.a.createElement("h3",null,"Sorry, the database do not have results :( ")),i.a.createElement("section",{className:"map-container"},!0===this.state.googleError&&i.a.createElement("div",{className:"googleError"},i.a.createElement("h3",null,"*** Looks like you have an authentication error ***"),i.a.createElement("p",null," Please put your Google Map API key in the config_helper.json file, or check the console for further information. ")),i.a.createElement("div",{id:"map"})))}}]),t}(n.Component),ee=S()(["https://maps.googleapis.com/maps/api/js?key=".concat(L.googleApi,"&libraries=geometry")])($),te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ae(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var ne=a(55);o.a.render(i.a.createElement(ne.a,null,i.a.createElement(ee,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/rome-map-udacity",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/rome-map-udacity","/service-worker.js");te?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ae(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):ae(e)})}}()}],[[36,2,1]]]);
//# sourceMappingURL=main.6e58db48.chunk.js.map